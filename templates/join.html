<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body bgcolor="#91A8d0">


    <div>
        <form method="POST" action="/join">
            <div>
                <label for="ownerid">아이디</label>
                <input type="text" id="newid" placeholder="아이디" name="userid" />
            </div>
            <div>
                <label for="ownername">이름</label>
                <input type="text" id="newname" placeholder="이름" name="username" />
            </div>
            <div>
                <label for="password">비밀번호</label>
                <input type="password" id="newpw" placeholder="비밀번호" name="userpw" />
            </div>
            <button type="submit" onclick="join1()">회원가입</button>
            <button type="submit" onclick="location.href='/'">홈</button>

        </form>
    </div>




    <script>



        function join1() {

            const xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {

                if (this.readyState == 4 && this.status == 200) {
                    data = this.responseText;
                    data = JSON.parse(data)

                    console.log(data)
                    location.href = "index.html"

                }

            }
            xhttp.open("POST", "join");
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            alert("가입 완료")

            queryString = "userid=" + document.getElementById("newid").value +
                "&userpw" + document.getElementById("newpw").value +
                "&username=" + document.getElementById("newname").value;
            console.log(queryString)
            xhttp.send(queryString)
        };



    </script>
</body>

</html>